-- ROSANO AIMBOT Script pro Roblox
-- Upravil: Zyroocz
-- Původní autor: Vans @amcpmigunate
-- Pouze pro vzdělávací účely

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local GuiService = game:GetService("GuiService")
local TweenService = game:GetService("TweenService")

local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

-- Konfigurace
local Config = {
    Enabled = false,
    AimPart = "Head",
    Smoothing = 14,
    PredictionStrength = 196,
    FovVisibility = true,
    WallCheck = true,
    StickyAim = true,
    Fov = 196,
    ActivationKey = Enum.KeyCode.Q,
    ShowFov = true,
    TeamCheck = true,
    VisibilityCheck = true
}

-- Přihlašovací údaje
local correctPassword = "rosano1234"
local isAuthenticated = false

-- Vytvoření UI pro přihlášení
local LoginGui = Instance.new("ScreenGui")
LoginGui.Name = "RosanoLoginUI"
LoginGui.Parent = game.CoreGui
LoginGui.ResetOnSpawn = false

local LoginFrame = Instance.new("Frame")
LoginFrame.Size = UDim2.new(0, 300, 0, 200)
LoginFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
LoginFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
LoginFrame.BorderSizePixel = 0
LoginFrame.Active = true
LoginFrame.Draggable = true
LoginFrame.Parent = LoginGui

local LoadingLabel = Instance.new("TextLabel")
LoadingLabel.Size = UDim2.new(1, 0, 0, 40)
LoadingLabel.Position = UDim2.new(0, 0, 0, 10)
LoadingLabel.BackgroundTransparency = 1
LoadingLabel.Text = "ROSANO LOADING..."
LoadingLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
LoadingLabel.Font = Enum.Font.GothamBold
LoadingLabel.TextSize = 20
LoadingLabel.Parent = LoginFrame

local PasswordBox = Instance.new("TextBox")
PasswordBox.Size = UDim2.new(0.8, 0, 0, 30)
PasswordBox.Position = UDim2.new(0.1, 0, 0, 70)
PasswordBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
PasswordBox.BorderSizePixel = 0
PasswordBox.PlaceholderText = "Zadejte heslo"
PasswordBox.Text = ""
PasswordBox.TextColor3 = Color3.fromRGB(255, 255, 255)
PasswordBox.Font = Enum.Font.Gotham
PasswordBox.TextSize = 14
PasswordBox.Parent = LoginFrame

local LoginButton = Instance.new("TextButton")
LoginButton.Size = UDim2.new(0.8, 0, 0, 30)
LoginButton.Position = UDim2.new(0.1, 0, 0, 110)
LoginButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
LoginButton.BorderSizePixel = 0
LoginButton.Text = "PŘIHLÁSIT"
LoginButton.TextColor3 = Color3.fromRGB(255, 255, 255)
LoginButton.Font = Enum.Font.Gotham
LoginButton.TextSize = 14
LoginButton.Parent = LoginFrame

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(0.8, 0, 0, 20)
StatusLabel.Position = UDim2.new(0.1, 0, 0, 150)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Text = ""
StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
StatusLabel.Font = Enum.Font.Gotham
StatusLabel.TextSize = 12
StatusLabel.Parent = LoginFrame

-- Funkce pro přihlášení
local function attemptLogin()
    local enteredPassword = PasswordBox.Text
    
    if enteredPassword == correctPassword then
        isAuthenticated = true
        StatusLabel.Text = "ÚSPĚŠNÉ PŘIHLÁŠENÍ!"
        StatusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
        
        wait(1)
        LoginGui:Destroy()
        createMainUI()
    else
        StatusLabel.Text = "CHYBNÉ HESLO! ZKUSTE ZNOVU."
        StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
    end
end

LoginButton.MouseButton1Click:Connect(attemptLogin)
PasswordBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        attemptLogin()
    end
end)

-- Vytvoření hlavního UI po přihlášení
function createMainUI()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "RosanoAimbotUI"
    ScreenGui.Parent = game.CoreGui
    ScreenGui.ResetOnSpawn = false

    local MainFrame = Instance.new("Frame")
    MainFrame.Size = UDim2.new(0, 300, 0, 350)
    MainFrame.Position = UDim2.new(0.5, -150, 0.5, -175)
    MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    MainFrame.BorderSizePixel = 0
    MainFrame.Active = true
    MainFrame.Draggable = true
    MainFrame.Parent = ScreenGui

    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, 0, 0, 30)
    Title.Position = UDim2.new(0, 0, 0, 0)
    Title.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    Title.BorderSizePixel = 0
    Title.Text = "ROSANO AIMBOT (by Zyroocz)"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 14
    Title.Parent = MainFrame

    local ToggleButton = Instance.new("TextButton")
    ToggleButton.Size = UDim2.new(0.9, 0, 0, 30)
    ToggleButton.Position = UDim2.new(0.05, 0, 0, 40)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    ToggleButton.BorderSizePixel = 0
    ToggleButton.Text = "AIMBOT: VYPNUTY"
    ToggleButton.TextColor3 = Color3.fromRGB(255, 100, 100)
    ToggleButton.Font = Enum.Font.Gotham
    ToggleButton.TextSize = 14
    ToggleButton.Parent = MainFrame

    -- Funkce pro zapnutí/vypnutí aimbotu
    ToggleButton.MouseButton1Click:Connect(function()
        Config.Enabled = not Config.Enabled
        if Config.Enabled then
            ToggleButton.Text = "AIMBOT: ZAPNUTY"
            ToggleButton.TextColor3 = Color3.fromRGB(100, 255, 100)
        else
            ToggleButton.Text = "AIMBOT: VYPNUTY"
            ToggleButton.TextColor3 = Color3.fromRGB(255, 100, 100)
        end
    end)

    -- Zbytek UI prvků a funkce aimbotu (podle předchozího scriptu)
    
    -- Funkce pro získání nejbližšího hráče v poli výhledu
    function GetClosestPlayer()
        if not isAuthenticated then return nil end
        
        local closestPlayer = nil
        local shortestDistance = Config.Fov
        
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(Config.AimPart) then
                -- Kontrola týmu
                if Config.TeamCheck and player.Team == LocalPlayer.Team then
                    continue
                end
                
                local character = player.Character
                local aimPart = character:FindFirstChild(Config.AimPart)
                
                if aimPart then
                    -- Výpočet pozice na obrazovce
                    local screenPoint, onScreen = workspace.CurrentCamera:WorldToViewportPoint(aimPart.Position)
                    
                    if onScreen then
                        -- Výpočet vzdálenosti od kurzoru myši
                        local mousePosition = Vector2.new(Mouse.X, Mouse.Y)
                        local pointPosition = Vector2.new(screenPoint.X, screenPoint.Y)
                        local distance = (mousePosition - pointPosition).Magnitude
                        
                        -- Kontrola viditelnosti
                        local isVisible = true
                        if Config.WallCheck and Config.VisibilityCheck then
                            local raycastParams = RaycastParams.new()
                            raycastParams.FilterType = Enum.RaycastFilterType.Blacklist
                            raycastParams.FilterDescendantsInstances = {LocalPlayer.Character}
                            
                            local raycastResult = workspace:Raycast(
                                workspace.CurrentCamera.CFrame.Position, 
                                (aimPart.Position - workspace.CurrentCamera.CFrame.Position).Unit * 1000,
                                raycastParams
                            )
                            
                            if raycastResult and raycastResult.Instance:FindFirstAncestor(player.Name) == nil then
                                isVisible = false
                            end
                        end
                        
                        -- Kontrola zda je hráč v poli výhledu a viditelný
                        if distance < shortestDistance and (not Config.FovVisibility or isVisible) then
                            shortestDistance = distance
                            closestPlayer = player
                        end
                    end
                end
            end
        end
        
        return closestPlayer
    end

    -- Hlavní funkce aimbotu
    local function Aimbot()
        if not Config.Enabled or not LocalPlayer.Character or not isAuthenticated then return end
        
        local targetPlayer = GetClosestPlayer()
        if not targetPlayer or not targetPlayer.Character then return end
        
        local targetPart = targetPlayer.Character:FindFirstChild(Config.AimPart)
        if not targetPart then return end
        
        -- Predikce pohybu
        local predictedPosition = targetPart.Position
        if Config.PredictionStrength > 0 then
            local velocity = targetPart.Velocity or Vector3.new(0, 0, 0)
            predictedPosition = predictedPosition + (velocity * (Config.PredictionStrength / 1000))
        end
        
        -- Výpočet směru
        local camera = workspace.CurrentCamera
        local direction = (predictedPosition - camera.CFrame.Position).Unit
        
        -- Vyhlazení pohybu
        local currentDirection = camera.CFrame.LookVector
        local smoothFactor = Config.Smoothing / 100
        
        local smoothedDirection = currentDirection:Lerp(direction, smoothFactor)
        
        -- Nastavení nového pohledu kamery
        local newCFrame = CFrame.new(camera.CFrame.Position, camera.CFrame.Position + smoothedDirection)
        camera.CFrame = newCFrame
    end

    -- Hlavní smyčka
    RunService.RenderStepped:Connect(function()
        if isAuthenticated then
            Aimbot()
        end
    end)

    print("ROSANO AIMBOT načten a přihlášen")
end
